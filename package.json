{
  "name": "remote-beyond",
  "displayName": "Remote - Beyond",
  "description": "Forward non-public remote services to the local interface",
  "publisher": "novemus",
  "version": "0.0.1",
  "icon": "resources/webpier.png",
  "license": "MIT",
  "engines": {
    "vscode": "^1.105.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "contributes": {
    "configuration": [
      {
        "title": "Remote - Beyond",
        "properties": {
          "remote-beyond.webpier.home": {
            "order": 1,
            "type": "string",
            "description": "Path to the WebPier context directory. By default, the standard user-dependent directory for the WebPier application data is used.",
            "scope": "machine"
          },
          "remote-beyond.webpier.config": {
            "order": 2,
            "type": "string",
            "description": "Path to the WebPier configuration file on Unix-like OS or registry key of the WebPier application on Windows OS. Only for non-standard installations.",
            "scope": "machine"
          }
        }
      }
    ],
    "commands": [
      {
        "command": "remote-beyond.startup",
        "title": "Init workspace context..."
      },
      {
        "command": "remote-beyond.createOffer",
        "title": "Create an offer..."
      },
      {
        "command": "remote-beyond.uploadOffer",
        "title": "Upload an offer..."
      },
      {
        "command": "remote-beyond.startService",
        "title": "Start webpier service",
        "icon": "$(play-circle)"
      },
      {
        "command": "remote-beyond.stopService",
        "title": "Stop webpier service",
        "icon": "$(stop-circle)"
      },
      {
        "command": "remote-beyond.addImportService",
        "title": "Add webpier import service",
        "icon": "$(new-file)"
      },
      {
        "command": "remote-beyond.addExportService",
        "title": "Add webpier export service",
        "icon": "$(new-file)"
      },
      {
        "command": "remote-beyond.delService",
        "title": "Delete webpier service",
        "icon": "$(notebook-delete-cell)"
      },
      {
        "command": "remote-beyond.openServiceEditor",
        "title": "Edit webpier service",
        "icon": "$(edit)"
      },
      {
        "command": "remote-beyond.closeEditor",
        "title": "Close service editor",
        "icon": "$(close)"
      },
      {
        "command": "remote-beyond.openContextEditor",
        "title": "Edit webpier context",
        "icon": "$(gear)"
      },
      {
        "command": "remote-beyond.collapseImportTree",
        "title": "Collapse import tree view",
        "icon": "$(collapse-all)"
      },
      {
        "command": "remote-beyond.collapseExportTree",
        "title": "Collapse export tree view",
        "icon": "$(collapse-all)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "remote-beyond",
          "title": "Remote - Beyond",
          "icon": "resources/mono.png"
        }
      ]
    },
    "views": {
      "remote-beyond": [
        {
          "id": "webpierStartup",
          "name": "Startup",
          "icon": "ports-open-browser-icon",
          "when": "!context.init"
        },
        {
          "type": "webview",
          "id": "webpierServiceEditor",
          "name": "Editor",
          "icon": "wrench",
          "when": "context.edit === 'service'"
        },
        {
          "type": "webview",
          "id": "webpierContextEditor",
          "name": "Editor",
          "icon": "wrench",
          "when": "context.edit === 'context'"
        },
        {
          "id": "webpierImport",
          "name": "Import",
          "icon": "ports-open-browser-icon",
          "when": "context.init"
        },
        {
          "id": "webpierExport",
          "name": "Export",
          "icon": "ports-open-browser-icon",
          "when": "context.init"
        }
      ]
    },
    "menus": {
      "view/title": [
        {
          "command": "remote-beyond.createOffer",
          "when": "view == webpierExport"
        },
        {
          "command": "remote-beyond.uploadOffer",
          "when": "view == webpierImport"
        },
        {
          "command": "remote-beyond.closeEditor",
          "when": "view == webpierServiceEditor || view == webpierContextEditor",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.addImportService",
          "when": "view == webpierImport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.addExportService",
          "when": "view == webpierExport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.openContextEditor",
          "when": "view === webpierExport || view == webpierImport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.collapseExportTree",
          "when": "view === webpierExport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.collapseImportTree",
          "when": "view === webpierImport",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "remote-beyond.startService",
          "when": "viewItem === 'webpier.asleep.service'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.stopService",
          "when": "viewItem === 'webpier.active.service'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.openServiceEditor",
          "when": "viewItem === 'webpier.active.service' || viewItem === 'webpier.asleep.service'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.delService",
          "when": "viewItem === 'webpier.active.service' || viewItem === 'webpier.asleep.service'",
          "group": "inline"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "webpierStartup",
        "contents": "To get started you need to install [WebPier](https://github.com/novemus/webpier/releases/latest) application and define the webpier identity wich consists of the Owner and the Pier names. The Owner name should be an email address, if you want to use Email as the rendezvous in addition to DHT network, and the Pier name must be unique for the Owner.\n[Init WebPier Context](command:remote-beyond.startup)"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "webpack",
    "electron-rebuild": "./node_modules/.bin/electron-rebuild -v 37.0.0 -f -w fs-ext",
    "watch": "webpack --watch",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@electron/rebuild": "^4.0.1",
    "@types/fs-ext": "^2.0.3",
    "@types/mocha": "^10.0.10",
    "@types/node": "22.x",
    "@types/node-forge": "^1.3.14",
    "@types/vscode": "^1.105.0",
    "@typescript-eslint/eslint-plugin": "^8.45.0",
    "@typescript-eslint/parser": "^8.45.0",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "eslint": "^9.36.0",
    "node-forge": "^1.3.1",
    "node-loader": "^2.1.0",
    "ts-loader": "^9.5.4",
    "typescript": "^5.9.3",
    "webpack": "^5.102.0",
    "webpack-cli": "^6.0.1"
  },
  "dependencies": {
    "@vscode/windows-registry": "^1.1.0",
    "fs-ext": "^2.1.1"
  }
}
