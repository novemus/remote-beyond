{
  "name": "remote-beyond",
  "displayName": "Remote-Beyond",
  "description": "Forward non-public remote services to the local interface",
  "publisher": "novemus",
  "version": "1.0.0",
  "icon": "resources/webpier.png",
  "license": "MIT",
  "homepage": "https://github.com/novemus/remote-beyond",
  "repository": {
    "type": "git",
    "url": "https://github.com/novemus/remote-beyond.git"
  },
  "bugs": {
    "url": "https://github.com/novemus/remote-beyond/issues"
  },
  "engines": {
    "vscode": "^1.105.0"
  },
  "categories": [
    "Other"
  ],
  "extensionKind": [
    "ui"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "configuration": [
      {
        "title": "Remote-Beyond",
        "properties": {
          "remote-beyond.webpier.home": {
            "order": 1,
            "type": "string",
            "description": "Path to the WebPier context directory. By default, the standard user-dependent directory for the WebPier application data is used.",
            "scope": "machine"
          },
          "remote-beyond.webpier.config": {
            "order": 2,
            "type": "string",
            "description": "Path to the WebPier configuration file on Unix-like OS or registry key of the WebPier application on Windows OS. Only for non-standard installations.",
            "scope": "machine"
          },
          "remote-beyond.webpier.keepInTray": {
            "order": 3,
            "type": "boolean",
            "default": true,
            "description": "Keep the WebPier application in the system tray. If the context backend is not configured for autostart, this will avoid shutting down and restarting it along with VS Code.",
            "scope": "machine"
          }
        }
      }
    ],
    "commands": [
      {
        "command": "remote-beyond.startup",
        "title": "Init workspace context...",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.createOffer",
        "title": "Create an offer...",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.uploadOffer",
        "title": "Upload an offer...",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.startImportService",
        "title": "Start import service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.startExportService",
        "title": "Start export service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.stopImportService",
        "title": "Stop import service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.stopExportService",
        "title": "Stop export service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.editImportService",
        "title": "Edit import service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.editExportService",
        "title": "Edit export service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.delImportService",
        "title": "Delete import service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.delExportService",
        "title": "Delete export service",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.addImportService",
        "title": "Add import service",
        "icon": "$(new-file)",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.addExportService",
        "title": "Add export service",
        "icon": "$(new-file)",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.openContextEditor",
        "title": "Edit context",
        "icon": "$(gear)",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.collapseImportTree",
        "title": "Collapse import tree view",
        "icon": "$(collapse-all)",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.collapseExportTree",
        "title": "Collapse export tree view",
        "icon": "$(collapse-all)",
        "category": "Remote-Beyond"
      },
      {
        "command": "remote-beyond.startService",
        "title": "Start service",
        "icon": "$(play-circle)"
      },
      {
        "command": "remote-beyond.stopService",
        "title": "Stop service",
        "icon": "$(stop-circle)"
      },
      {
        "command": "remote-beyond.delService",
        "title": "Delete service",
        "icon": "$(notebook-delete-cell)"
      },
      {
        "command": "remote-beyond.editService",
        "title": "Edit service",
        "icon": "$(edit)"
      },
      {
        "command": "remote-beyond.closeEditor",
        "title": "Close editor",
        "icon": "$(close)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "remote-beyond",
          "title": "Remote-Beyond",
          "icon": "resources/mono.png"
        }
      ]
    },
    "views": {
      "remote-beyond": [
        {
          "id": "webpierStartup",
          "name": "Startup",
          "icon": "ports-open-browser-icon",
          "when": "!context.init"
        },
        {
          "type": "webview",
          "id": "webpierServiceEditor",
          "name": "Editor",
          "icon": "wrench",
          "when": "context.edit === 'service'"
        },
        {
          "type": "webview",
          "id": "webpierContextEditor",
          "name": "Editor",
          "icon": "wrench",
          "when": "context.edit === 'context'"
        },
        {
          "id": "webpierImport",
          "name": "Import",
          "icon": "ports-open-browser-icon",
          "when": "context.init"
        },
        {
          "id": "webpierExport",
          "name": "Export",
          "icon": "ports-open-browser-icon",
          "when": "context.init"
        }
      ]
    },
    "menus": {
      "commandPalette": [
        {
          "command": "remote-beyond.startup",
          "when": "false"
        },
        {
          "command": "remote-beyond.startService",
          "when": "false"
        },
        {
          "command": "remote-beyond.stopService",
          "when": "false"
        },
        {
          "command": "remote-beyond.editService",
          "when": "false"
        },
        {
          "command": "remote-beyond.delService",
          "when": "false"
        },
        {
          "command": "remote-beyond.closeEditor",
          "when": "false"
        }
      ],
      "view/title": [
        {
          "command": "remote-beyond.createOffer",
          "when": "view == webpierExport"
        },
        {
          "command": "remote-beyond.uploadOffer",
          "when": "view == webpierImport"
        },
        {
          "command": "remote-beyond.closeEditor",
          "when": "view == webpierServiceEditor || view == webpierContextEditor",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.addImportService",
          "when": "view == webpierImport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.addExportService",
          "when": "view == webpierExport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.openContextEditor",
          "when": "view === webpierExport || view == webpierImport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.collapseExportTree",
          "when": "view === webpierExport",
          "group": "navigation"
        },
        {
          "command": "remote-beyond.collapseImportTree",
          "when": "view === webpierImport",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "remote-beyond.startService",
          "when": "viewItem === 'idleService'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.stopService",
          "when": "viewItem === 'busyService'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.editService",
          "when": "viewItem === 'busyService' || viewItem === 'idleService'",
          "group": "inline"
        },
        {
          "command": "remote-beyond.delService",
          "when": "viewItem === 'busyService' || viewItem === 'idleService'",
          "group": "inline"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "webpierStartup",
        "contents": "To get started you need to install [WebPier](https://github.com/novemus/webpier/releases/latest) application and define local Pier identity wich consists of the Owner and the Host names. The Owner name should be an email address, if you want to use Email as the rendezvous in addition to DHT network, and the Host name must be unique for the Owner.\n[Init WebPier Context](command:remote-beyond.startup)"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "prebuild": "cd modules/file-mutex && npm install",
    "compile": "webpack",
    "watch": "webpack --watch",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "vscode-test --disable-extensions"
  },
  "devDependencies": {
    "@types/chai": "^5.2.3",
    "@types/mocha": "^10.0.10",
    "@types/node": "22.x",
    "@types/node-forge": "^1.3.14",
    "@types/vscode": "^1.105.0",
    "@typescript-eslint/eslint-plugin": "^8.45.0",
    "@typescript-eslint/parser": "^8.45.0",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "chai": "^6.2.1",
    "eslint": "^9.36.0",
    "mocha": "^11.7.5",
    "node-forge": "^1.3.1",
    "node-loader": "^2.1.0",
    "ts-loader": "^9.5.4",
    "typescript": "^5.9.3",
    "webpack": "^5.103.0",
    "webpack-cli": "^6.0.1"
  },
  "dependencies": {
    "@vscode/windows-registry": "^1.1.0"
  }
}
